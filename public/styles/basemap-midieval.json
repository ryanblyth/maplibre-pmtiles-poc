{
  "version": 8,
  "name": "Enhanced Multi-Scale PMTiles (World z0-5 + US z6-15) - Medieval Style",
  "glyphs": "/assets/fonts/{fontstack}/{range}.pbf",
  "sprite": "http://localhost:8080/assets/sprites/basemap",
  "sources": {
    "world_low": {
      "type": "vector",
      "url": "pmtiles:///tiles/world_z0-5.pmtiles",
      "minzoom": 0,
      "maxzoom": 5
    },
    "us_high": {
      "type": "vector",
      "url": "pmtiles:///tiles/us_z6-15.pmtiles",
      "minzoom": 6,
      "maxzoom": 15
    }
  },
  "layers": [
    {
      "id": "background",
      "type": "background",
      "paint": {
        "background-color": "hsl(40, 41%, 80%)"
      }
    },
    {
      "id": "landcover-world",
      "type": "fill",
      "source": "world_low",
      "source-layer": "landcover",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": ["==", ["get", "class"], "snow"],
      "paint": {
        "fill-color": "hsl(45, 11%, 88%)",
        "fill-opacity": 0.8
      }
    },
    {
      "id": "landcover-wood-world",
      "type": "fill", 
      "source": "world_low",
      "source-layer": "landcover",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": ["==", ["get", "class"], "wood"],
      "paint": {
        "fill-color": "hsl(59, 19%, 65%)",
        "fill-opacity": 0.7
      }
    },
    {
      "id": "landcover-grass-world",
      "type": "fill",
      "source": "world_low", 
      "source-layer": "landcover",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": ["match", ["get", "class"], ["grass", "scrub"], true, false],
      "paint": {
        "fill-color": "hsl(59, 19%, 70%)",
        "fill-opacity": 0.6
      }
    },
    {
      "id": "landuse-world",
      "type": "fill",
      "source": "world_low",
      "source-layer": "landuse",
      "minzoom": 0,
      "maxzoom": 6,
      "paint": {
        "fill-color": "hsl(59, 19%, 70%)",
        "fill-outline-color": "hsla(29, 22%, 63%, 0.09)",
        "fill-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0, 1, 6, 1
        ]
      }
    },
    {
      "id": "landuse-park-world",
      "type": "fill",
      "source": "world_low",
      "source-layer": "landuse",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": ["==", ["get", "class"], "park"],
      "paint": {
        "fill-color": "hsl(54, 54%, 38%)",
        "fill-outline-color": "hsl(54, 52%, 24%)",
        "fill-opacity": 0.7
      }
    },
    {
      "id": "water-world",
      "type": "fill",
      "source": "world_low",
      "source-layer": "water",
      "minzoom": 0,
      "maxzoom": 6,
      "paint": {
        "fill-color": "hsl(86, 14%, 51%)",
        "fill-outline-color": "hsl(0, 0%, 0%)",
        "fill-antialias": true
      }
    },
    {
      "id": "water-outline-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "water",
      "minzoom": 0,
      "maxzoom": 6,
      "paint": {
        "line-width": 1,
        "line-color": "hsl(142, 19%, 25%)"
      }
    },
    {
      "id": "waterway-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "waterway",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": [
        "all",
        ["==", ["geometry-type"], "LineString"],
        ["match", ["get", "class"], ["canal", "river"], true, false]
      ],
      "paint": {
        "line-color": "hsl(116, 9%, 50%)",
        "line-width": [
          "interpolate",
          ["exponential", 1.4],
          ["zoom"],
          0, 0.3, 6, 1.0
        ]
      }
    },
    {
      "id": "boundary-country-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "boundary",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": ["==", ["get", "admin_level"], 2],
      "paint": {
        "line-color": "hsl(41, 34%, 59%)",
        "line-blur": 30,
        "line-width": 6,
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0, 1, 3, 1, 6, 0
        ]
      }
    },
    {
      "id": "boundary-country-lines-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "boundary",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": ["==", ["get", "admin_level"], 2],
      "layout": {
        "line-cap": "butt",
        "line-join": "bevel",
        "line-round-limit": 0
      },
      "paint": {
        "line-color": "hsla(41, 54%, 23%, 0.68)",
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          0, 0.5, 6, 3
        ],
        "line-opacity": 1
      }
    },
    {
      "id": "boundary-state-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "boundary", 
      "minzoom": 0,
      "maxzoom": 6,
      "filter": ["==", ["get", "admin_level"], 4],
      "paint": {
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0, 1.5, 6, 3
        ],
        "line-color": "hsl(26, 27%, 59%)",
        "line-dasharray": [3, 1]
      }
    },
    {
      "id": "road-major-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "transportation",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": [
        "all",
        ["!=", ["get", "brunnel"], "tunnel"],
        ["!=", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["motorway", "trunk", "primary"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-round-limit": 1
      },
      "paint": {
        "line-color": "#72533c",
        "line-width": [
          "interpolate",
          ["exponential", 1.4],
          ["zoom"],
          0, 0.5, 6, 2
        ],
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0, 0, 4, 1
        ]
      }
    },
    {
      "id": "road-minor-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "transportation",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": [
        "all",
        ["!=", ["get", "brunnel"], "tunnel"],
        ["!=", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["secondary", "tertiary", "residential", "service"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsla(24, 72%, 38%, 0.22)",
        "line-width": [
          "interpolate",
          ["exponential", 1.55],
          ["zoom"],
          0, 0.25, 6, 1.0
        ]
      }
    },
    {
      "id": "bridge-major-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "transportation",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["motorway", "trunk", "primary"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#72533c",
        "line-width": [
          "interpolate",
          ["exponential", 1.4],
          ["zoom"],
          0, 0.5, 6, 2
        ]
      }
    },
    {
      "id": "bridge-minor-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "transportation",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["secondary", "tertiary", "residential", "service"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#72533c",
        "line-width": [
          "interpolate",
          ["exponential", 1.55],
          ["zoom"],
          0, 0.25, 6, 1.0
        ]
      }
    },
    {
      "id": "place-other-world",
      "type": "symbol",
      "source": "world_low",
      "source-layer": "place",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": [
        "match",
        ["get", "class"],
        ["village", "hamlet", "suburb", "neighbourhood"],
        true,
        false
      ],
      "layout": {
        "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
        "text-size": [
          "interpolate",
          ["cubic-bezier", 0.85, 0.11, 0.68, 0.6],
          ["zoom"],
          0, 8, 6, 12
        ],
        "text-font": ["Noto Sans Regular"],
        "text-transform": "none",
        "text-letter-spacing": 0.1,
        "text-offset": [0, 0]
      },
      "paint": {
        "text-color": "hsl(20, 87%, 14%)",
        "text-halo-color": "hsl(45, 33%, 76%)",
        "text-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0, 0.25, 4, 1
        ],
        "text-halo-width": 2,
        "text-halo-blur": 0
      }
    },
    {
      "id": "place-city-world",
      "type": "symbol",
      "source": "world_low",
      "source-layer": "place",
      "minzoom": 0,
      "maxzoom": 6,
      "filter": [
        "match",
        ["get", "class"],
        ["city", "town"],
        true,
        false
      ],
      "layout": {
        "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
        "text-size": [
          "interpolate",
          ["cubic-bezier", 0.74, 0.11, 0.67, 0.84],
          ["zoom"],
          0, 10, 6, 16
        ],
        "text-font": ["Noto Sans Regular"],
        "text-transform": "none",
        "text-letter-spacing": 0.15,
        "text-offset": [0, 0]
      },
      "paint": {
        "text-color": "hsl(22, 50%, 15%)",
        "text-halo-color": "hsla(33, 56%, 86%, 0.74)",
        "text-halo-width": 2,
        "text-halo-blur": 0,
        "text-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0, 1, 6, 1
        ]
      }
    },
    {
      "id": "landcover-us",
      "type": "fill",
      "source": "us_high",
      "source-layer": "landcover",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": ["==", ["get", "class"], "snow"],
      "paint": {
        "fill-color": "hsl(45, 11%, 88%)",
        "fill-opacity": 0.8
      }
    },
    {
      "id": "landcover-wood-us",
      "type": "fill", 
      "source": "us_high",
      "source-layer": "landcover",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": ["==", ["get", "class"], "wood"],
      "paint": {
        "fill-color": "hsl(59, 19%, 65%)",
        "fill-opacity": 0.7
      }
    },
    {
      "id": "landcover-grass-us",
      "type": "fill",
      "source": "us_high", 
      "source-layer": "landcover",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": ["match", ["get", "class"], ["grass", "scrub"], true, false],
      "paint": {
        "fill-color": "hsl(59, 19%, 70%)",
        "fill-opacity": 0.6
      }
    },
    {
      "id": "landuse-us",
      "type": "fill",
      "source": "us_high",
      "source-layer": "landuse",
      "minzoom": 6,
      "maxzoom": 15,
      "paint": {
        "fill-color": "hsl(59, 19%, 70%)",
        "fill-outline-color": "hsla(29, 22%, 63%, 0.09)",
        "fill-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          6, 1, 15, 1
        ]
      }
    },
    {
      "id": "landuse-park-us",
      "type": "fill",
      "source": "us_high",
      "source-layer": "landuse",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": ["==", ["get", "class"], "park"],
      "paint": {
        "fill-color": "hsl(54, 54%, 38%)",
        "fill-outline-color": "hsl(54, 52%, 24%)",
        "fill-opacity": 0.7
      }
    },
    {
      "id": "water-us",
      "type": "fill",
      "source": "us_high",
      "source-layer": "water",
      "minzoom": 6,
      "maxzoom": 15,
      "paint": {
        "fill-color": "hsl(86, 14%, 51%)",
        "fill-outline-color": "hsl(0, 0%, 0%)",
        "fill-antialias": true
      }
    },
    {
      "id": "water-outline-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "water",
      "minzoom": 6,
      "maxzoom": 15,
      "paint": {
        "line-width": 1,
        "line-color": "hsl(142, 19%, 25%)"
      }
    },
    {
      "id": "waterway-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "waterway",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": [
        "all",
        ["==", ["geometry-type"], "LineString"],
        ["match", ["get", "class"], ["canal", "river"], true, false]
      ],
      "paint": {
        "line-color": "hsl(116, 9%, 50%)",
        "line-width": [
          "interpolate",
          ["exponential", 1.4],
          ["zoom"],
          6, 0.6, 15, 15
        ]
      }
    },
    {
      "id": "boundary-country-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "boundary",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": ["==", ["get", "admin_level"], 2],
      "paint": {
        "line-color": "hsl(41, 34%, 59%)",
        "line-blur": 30,
        "line-width": 6,
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          6, 1, 10, 0
        ]
      }
    },
    {
      "id": "boundary-country-lines-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "boundary",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": ["==", ["get", "admin_level"], 2],
      "layout": {
        "line-cap": "butt",
        "line-join": "bevel",
        "line-round-limit": 0
      },
      "paint": {
        "line-color": "hsla(41, 54%, 23%, 0.68)",
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          6, 3, 15, 15
        ],
        "line-opacity": 1
      }
    },
    {
      "id": "boundary-state-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "boundary", 
      "minzoom": 6,
      "maxzoom": 15,
      "filter": ["==", ["get", "admin_level"], 4],
      "paint": {
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          6, 1.5, 15, 13
        ],
        "line-color": "hsl(26, 27%, 59%)",
        "line-dasharray": [3, 1]
      }
    },
    {
      "id": "building-us",
      "type": "fill",
      "source": "us_high",
      "source-layer": "building",
      "minzoom": 13,
      "maxzoom": 15,
      "paint": {
        "fill-color": "hsla(29, 32%, 41%, 0.22)"
      }
    },
    {
      "id": "tunnel-minor-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": [
        "all",
        ["==", ["get", "brunnel"], "tunnel"],
        ["match", ["get", "class"], ["residential", "service", "tertiary"], true, false]
      ],
      "paint": {
        "line-color": "#efefef",
        "line-width": [
          "interpolate",
          ["exponential", 1.55],
          ["zoom"],
          6, 0.5, 15, 30
        ],
        "line-dasharray": [0.36, 0.18]
      }
    },
    {
      "id": "tunnel-major-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": [
        "all",
        ["==", ["get", "brunnel"], "tunnel"],
        ["match", ["get", "class"], ["motorway", "trunk", "primary"], true, false]
      ],
      "paint": {
        "line-color": "#fff",
        "line-width": [
          "interpolate",
          ["exponential", 1.4],
          ["zoom"],
          6, 0.5, 15, 30
        ],
        "line-dasharray": [0.28, 0.14]
      }
    },
    {
      "id": "road-major-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": [
        "all",
        ["!=", ["get", "brunnel"], "tunnel"],
        ["!=", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["motorway", "trunk", "primary"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-round-limit": 1
      },
      "paint": {
        "line-color": "#72533c",
        "line-width": [
          "interpolate",
          ["exponential", 1.4],
          ["zoom"],
          6, 0.5, 15, 20
        ],
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          4, 0, 6, 1
        ]
      }
    },
    {
      "id": "road-minor-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": [
        "all",
        ["!=", ["get", "brunnel"], "tunnel"],
        ["!=", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["secondary", "tertiary", "residential", "service"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsla(24, 72%, 38%, 0.22)",
        "line-width": [
          "interpolate",
          ["exponential", 1.55],
          ["zoom"],
          6, 0.5, 15, 30
        ]
      }
    },
    {
      "id": "bridge-minor-case-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 12,
      "maxzoom": 15,
      "filter": [
        "all",
        ["==", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["residential", "service", "tertiary"], true, false]
      ],
      "paint": {
        "line-color": "#dedede",
        "line-width": [
          "interpolate",
          ["exponential", 1.6],
          ["zoom"],
          12, 0.5, 15, 10
        ],
        "line-gap-width": [
          "interpolate",
          ["exponential", 1.55],
          ["zoom"],
          6, 0.5, 15, 30
        ]
      }
    },
    {
      "id": "bridge-major-case-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": [
        "all",
        ["==", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["motorway", "trunk", "primary"], true, false]
      ],
      "paint": {
        "line-color": "#72533c",
        "line-width": [
          "interpolate",
          ["exponential", 1.4],
          ["zoom"],
          6, 0.5, 15, 10
        ],
        "line-gap-width": [
          "interpolate",
          ["exponential", 1.4],
          ["zoom"],
          6, 0.5, 15, 30
        ]
      }
    },
    {
      "id": "bridge-minor-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 12,
      "maxzoom": 15,
      "filter": [
        "all",
        ["==", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["residential", "service", "tertiary"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#72533c",
        "line-width": [
          "interpolate",
          ["exponential", 1.55],
          ["zoom"],
          6, 0.5, 15, 30
        ]
      }
    },
    {
      "id": "bridge-major-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": [
        "all",
        ["==", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["motorway", "trunk", "primary"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#72533c",
        "line-width": [
          "interpolate",
          ["exponential", 1.4],
          ["zoom"],
          6, 0.5, 15, 30
        ]
      }
    },
    {
      "id": "rail-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 10,
      "maxzoom": 15,
      "filter": ["==", ["get", "class"], "rail"],
      "paint": {
        "line-color": "hsl(230, 8%, 51%)",
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          10, 0.3, 15, 0.8
        ]
      }
    },
    {
      "id": "water-label-us",
      "type": "symbol",
      "source": "us_high",
      "source-layer": "water_name",
      "minzoom": 6,
      "maxzoom": 15,
      "layout": {
        "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
        "text-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          6, 11, 15, 16
        ],
        "text-font": ["Noto Sans Regular"],
        "symbol-placement": "line"
      },
      "paint": {
        "text-color": "hsl(230, 48%, 44%)",
        "text-halo-color": "hsl(0, 0%, 100%)",
        "text-halo-width": 1.2
      }
    },
    {
      "id": "place-other-us",
      "type": "symbol",
      "source": "us_high",
      "source-layer": "place",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": [
        "match",
        ["get", "class"],
        ["village", "hamlet", "suburb", "neighbourhood"],
        true,
        false
      ],
      "layout": {
        "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
        "text-size": [
          "interpolate",
          ["cubic-bezier", 0.85, 0.11, 0.68, 0.6],
          ["zoom"],
          6, 11, 15, 16
        ],
        "text-font": ["Noto Sans Regular"],
        "text-transform": "none",
        "text-letter-spacing": 0.1,
        "text-offset": [0, 0]
      },
      "paint": {
        "text-color": "hsl(20, 87%, 14%)",
        "text-halo-color": "hsl(45, 33%, 76%)",
        "text-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          6, 0.25, 8.5, 1
        ],
        "text-halo-width": 2,
        "text-halo-blur": 0
      }
    },
    {
      "id": "place-city-us",
      "type": "symbol",
      "source": "us_high",
      "source-layer": "place",
      "minzoom": 6,
      "maxzoom": 15,
      "filter": [
        "match",
        ["get", "class"],
        ["city", "town"],
        true,
        false
      ],
      "layout": {
        "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
        "text-size": [
          "interpolate",
          ["cubic-bezier", 0.74, 0.11, 0.67, 0.84],
          ["zoom"],
          6, 13, 15, 18
        ],
        "text-font": ["Noto Sans Regular"],
        "text-transform": "none",
        "text-letter-spacing": 0.15,
        "text-offset": [0, 0]
      },
      "paint": {
        "text-color": "hsl(22, 50%, 15%)",
        "text-halo-color": "hsla(33, 56%, 86%, 0.74)",
        "text-halo-width": 2,
        "text-halo-blur": 0,
        "text-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          4, 1, 8, 1
        ]
      }
    }
  ]
}